var documenterSearchIndex = {"docs":
[{"location":"elements/constantsource/#Constant-Strength-Source","page":"Constant Source","title":"Constant-Strength Source","text":"","category":"section"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"(Adapted fron Hess, J. L., & Smith, A. M. O. (1967), Calculation of potential flow about arbitrary bodies)","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"Given the following planar polygonal panel","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"<center>\n  <img src=\"../../assets/images/panel-HS00.png\" alt=\"Pic here\" style=\"width: 400px;\"/>\n</center>","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"the potential at an arbitrary point (x y z) is calculated in the panel's coordinate system with constant-strength source as","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"  beginalign*\n        phi\n    =\n        -fracsigma4pi intlimits_S fracmathrmdSr\n  endalign*","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"with r=sqrt(x-xi)^2 + (y-eta)^2 + z^2.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"NOTE: The local coordinate system used by Hess and Smith (and also Katz and Plotkin) follows the opposite to the right-hand rule to define its normal. For this reason, the local coordinate system implemented in all phi and mathbfu functions in FLOWPanel define hatboldsymbolxi = hatmathbfo, hatboldsymboleta = hatmathbft, and hatmathbfn_mathrmHS = -hatmathbfn.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"Integrating over a planar element with n vertices results in","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"beginalign*\n        phi(xyz)\n    =\n        -fracsigma4pi\n        sumlimits_ijin A left\n            R_ij Q_ij\n            + \n            vert z vert J_ij\n        right\nendalign*","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"where A = (12)dots(n-1 n)(n 1)  and","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"beginalign*\n        bullet quad  S_ij = fraceta_j - eta_id_ij\n    \n        bullet quad  C_ij = fracxi_j - xi_id_ij\n    \n        bullet quad  Q_ij = lnleft(frac r_i+r_j+d_ij  r_i+r_j-d_ij right)\n    \n        bullet quad  J_ij = arctanleft(frac\n                                R_ijlvert z rvert( r_i s_ij^(j) - r_j s_ij^(i))\n                            \n                                r_i r_j R_ij^2 + z^2 s_ij^(j) s_ij^(i)\n                            right)\n    \n        bullet quad  s_ij^(k) = (xi_k - x)C_ij + (eta_k - y)S_ij\n    \n        bullet quad  R_ij = (x - xi_i)S_ij - (y - eta_i)C_ij\n    \n        bullet quad  d_ij = sqrt(xi_j-xi_i)^2 + (eta_j-eta_i)^2\n    \n        bullet quad  r_i = sqrt(x-xi_i)^2 + (y-eta_i)^2 + z^2\nendalign*","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"NOTE: The arctan defined in J_ij is intended to be evaluated in the range -pi to pi.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"The velocity induced by the panel at (xyz) is calculated as","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"beginalign*\n    mathbfu = nabla phi\nendalign*","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"which results in","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"beginalign*\n        bullet quad  U_x = fracpartialvarphipartial x = - fracsigma4pi sumlimits_i=1^n S_i Q_i\n    \n        bullet quad  U_y = fracpartialvarphipartial y = fracsigma4pi sumlimits_i=1^n C_i Q_i\n    \n        bullet quad  U_z = fracpartialvarphipartial z = textsgn(z) fracsigma4pi left(  Deltatheta - sumlimits_i=1^n J_i right)\nendalign*","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"where Deltatheta=2pi if (xy0) lies inside the quadrilateral, Deltatheta=0 if not. Hess & Smith mentions that the point lies inside the quadrilateral iff all R_i are positive.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"NOTE: The U_z velocity poses a discontinuity at the surface since limlimits_zrightarrow pm 0 U_z (0 0 z) = pm fracsigma2. Hess and Smith recommends setting U_z (0 0 0) = + fracsigma2. In FLOWPanel, however, we let U_z (0 0 0) = 0, but we also have shifted all control points slightly in the direction of hatmathbfn. Remembering that hatmathbfn_mathrmHS = -hatmathbfn, the control points are thus shifted in the -z direction, effectively obtaining boxedU_z (mathbfx_mathrmcp) approx - fracsigma2.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"NOTE 2: The offset of the control points is controlled through the properties body.CPoffset and body.characteristiclength of the Body type. Here, body.CPoffset is a small non-dimensional number s and body.characteristiclength is a user-defined function of the form (nodes, panel) -> l that returns a characteristic length ell (which can be either computed based on the panel, or it can be set the same for all panels). Each control point mathbfx_mathrmcp is then computed as mathbfx_mathrmcp = mathbfx_mathrmcentroid + sellhatmathbfn.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"NOTE 3: By default, FLOWPanel sets the characteristic length to be the square root of the panel area, but it is strongly recommended that the user provides their own characteristic length, and that this length is the same for all panels.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"ASSUMPTIONS","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"The panel is a polygon of n number of vertices with nge3.\nThe polygon is planar, i.e., all vertices lay on the same plane.\nVectors betweens nodes 1 and 2 and nodes 1 and 3 are not collinear.\nThe polygon must be concave.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"OBSERVATIONS","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"The term Q_ij makes this formulation singular at all vertices and edges of a panel; hence, FLOWPanel adds a small epsilon to the denominator of the log argument to avoid the singularity.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"NOTE: The small offset added to the denominator of Q_ij corresponds to body.kerneloffset.","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"The potential and velocity field of a source panel of unitary strength (sigma=1) is shown below","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"<center>\n  <table>\n      <tr>\n          <td>\n              <img src=\"../../assets/images/panel-source-phi00.png\" alt=\"Pic here\" width=\"450px\">\n          </td>\n          <td>\n              <img src=\"../../assets/images/panel-source-u02.png\" alt=\"Pic here\" width=\"300px\">\n          </td>\n      </tr>\n  </table>\n</center>","category":"page"},{"location":"elements/constantsource/","page":"Constant Source","title":"Constant Source","text":"<center>\n  <br>$\\nabla \\phi$ = $\\mathbf{u}$ verification\n  <img src=\"../../assets/images/panel-source-divphivsu00.png\" alt=\"Pic here\" style=\"width: 900px;\"/>\n</center>","category":"page"},{"location":"elements/paneldefinition/#Panel-Definition","page":"Panel Definition","title":"Panel Definition","text":"","category":"section"},{"location":"elements/paneldefinition/","page":"Panel Definition","title":"Panel Definition","text":"In order to compute and/or solve the boundary integral equation, we discretize the numerical boundaries of our domain through numerical elements, forming what is called a boundary element method. or BEM. The geometry of our problem is discretized into panels. To each panel then we associate one or multiple types of elements described in this section.","category":"page"},{"location":"elements/paneldefinition/","page":"Panel Definition","title":"Panel Definition","text":"Given a planar polygonal panel, we define the following unitary vectors following the right-hand rule as follows","category":"page"},{"location":"elements/paneldefinition/","page":"Panel Definition","title":"Panel Definition","text":"<center>\n  <img src=\"../../assets/images/panelcs00.png\" alt=\"Pic here\" width=\"400px\">\n</center>","category":"page"},{"location":"elements/paneldefinition/","page":"Panel Definition","title":"Panel Definition","text":"beginalign*\n        textTangent vectorqquad\n        \n        hatmathbft = fracmathbfp_2 - mathbfp_1Vert mathbfp_2 - mathbfp_1 Vert\n    \n        textNormal vectorqquad\n        \n        hatmathbfn = frac\n                                    left( mathbfp_2 - mathbfp_1 right)\n                                    times\n                                    left( mathbfp_3 - mathbfp_1 right)\n                                leftVert\n                                    left( mathbfp_2 - mathbfp_1 right)\n                                    times\n                                    left( mathbfp_3 - mathbfp_1 right)\n                                rightVert\n    \n        textOblique vectorqquad\n        \n        hatmathbfo = hatmathbfn times hatmathbft\nendalign*","category":"page"},{"location":"elements/paneldefinition/","page":"Panel Definition","title":"Panel Definition","text":"This defines the orthonormal basis left( hatmathbft hatmathbfo hatmathbfn right) which, along with the panel's centroid, define the panel's local coordinate system. This basis follows hatmathbft times hatmathbfo = hatmathbfn, hatmathbfo times hatmathbfn = hatmathbft, and hatmathbfn times hatmathbft = hatmathbfo.","category":"page"},{"location":"elements/semiinfnonplanardoublet/#Non-Planar-Semi-Infinite-Doublet-(Vortex-Horseshoe)","page":"Non-Planar Semi-Infinite Doublet","title":"Non-Planar Semi-Infinite Doublet (Vortex Horseshoe)","text":"","category":"section"},{"location":"elements/semiinfnonplanardoublet/","page":"Non-Planar Semi-Infinite Doublet","title":"Non-Planar Semi-Infinite Doublet","text":"Suppose that we have a semi-infinite panel with a outgoing semi-infinite direction different than the incoming direction. That means that the semi-infinite panel is no longer planar. In this circumstances, the induced velocity mathbfu is computed just as explained in the previous section since it's simply a horseshoe. The computation of the potential field, however, needs a some adaptation.","category":"page"},{"location":"elements/semiinfnonplanardoublet/","page":"Non-Planar Semi-Infinite Doublet","title":"Non-Planar Semi-Infinite Doublet","text":"From mathbfp_b, we split the panel into two, and create two planar sections as shown below. The computation is then done on the -hatmathbfd_a mathbfp_i mathbfp_j +hatmathbfd_a section as explained before, while the -hatmathbfd_a mathbfp_j +hatmathbfd_b is approximated numerically with a large panel.","category":"page"},{"location":"elements/semiinfnonplanardoublet/","page":"Non-Planar Semi-Infinite Doublet","title":"Non-Planar Semi-Infinite Doublet","text":"<center>\n  <img src=\"../../assets/images/semiinfinite-nonplanar-doublet02.png\" alt=\"Pic here\" width=\"450px\">\n</center>","category":"page"},{"location":"elements/semiinfnonplanardoublet/","page":"Non-Planar Semi-Infinite Doublet","title":"Non-Planar Semi-Infinite Doublet","text":"The potential and velocity field of a non-planar semi-infinte doublet panel (or non-planar vortex horseshoe) of unitary strength (mu=1 or Gamma=1) is shown below","category":"page"},{"location":"elements/semiinfnonplanardoublet/","page":"Non-Planar Semi-Infinite Doublet","title":"Non-Planar Semi-Infinite Doublet","text":"<center>\n  <table>\n      <tr>\n          <th>\n              <img src=\"../../assets/images/panel-semiinfinite-nonplanar-doublet-phi00.png\" alt=\"Pic here\" width=\"450px\">\n          </th>\n          <th>\n              <img src=\"../../assets/images/panel-semiinfinite-nonplanar-doublet-u00.png\" alt=\"Pic here\" width=\"450px\">\n          </th>\n      </tr>\n  </table>\n</center>","category":"page"},{"location":"elements/semiinfnonplanardoublet/","page":"Non-Planar Semi-Infinite Doublet","title":"Non-Planar Semi-Infinite Doublet","text":"<center>\n  <br>$\\nabla \\phi$ = $\\mathbf{u}$ verification\n  <img src=\"../../assets/images/panel-semiinfinitenonplanardoublet-divphivsu00.png\" alt=\"Pic here\" style=\"width: 900px;\"/>\n</center>","category":"page"},{"location":"potentialflow/#Problem-Formulation","page":"Potential Flow","title":"Problem Formulation","text":"","category":"section"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"(Adapted from Katz and Plotkin's Low Speed Aerodynamics, Sec 3.2)","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"By Helmholtz' decomposition theorem, any velocity field mathbfu can be decomposed into a uniform component, an irrotational component, and a solenoidal component as","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        mathbfu\n    =\n        underbracemathbfu_infty_textuniform\n        + underbracenablaphi_textirrotational\n        + underbracenablatimesboldsymbolpsi_textsolenoidal\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"where mathbfu_infty(t) is the freestream, phi (mathbfx t) is a scalar-potential field, and boldsymbolpsi (mathbfx t) is a vector-potential field.","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"NOTE: Even though here we show mathbfu_infty as its own component, the freestream can be rolled into the potential field as a linearly-varying potential, giving a uniform velocity field.","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Assuming incompressible flow, the continuity equation poses a Laplace equation for the scalar-potential as","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        nabla cdot mathbfu = 0\n    quadRightarrowquad\n        nabla^2 phi = 0\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Before we continue, let us derive a useful integral identity: Green's second identity. Let f and g be two differentiable functions, we have","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    nabla cdot left( f nabla g - g nabla f right) = f nabla^2 g - g nabla^2 f\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"The divergence theorem then leads to","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        intlimits_partial V\n            left( f nabla g - g nabla f right) cdot hatmathbfn\n        mathrmdS\n     =\n        intlimits_V\n            left( f nabla^2 g - g nabla^2 f right)\n        mathrmdV\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"over any volume V. Here we have defined the normal hatmathbfn  as pointing outward from V.","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Using Green's second identity, we now define f(mathbfx) equiv frac1Vert mathbfx - mathbfx_p Vert^2 = frac1r and g(mathbfx) equiv phi(mathbfx) where r is the distance to a point mathbfx_p defining an arbitrary fixed center, and the identity gives","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        intlimits_partial V\n            left frac1r nabla phi - phi nabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n     =\n        intlimits_V\n            left frac1r cancelnabla^2 phi^0 - phi cancelnabla^2 left(frac1rright)^0 right\n        mathrmdV\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    Rightarrow boxed\n        intlimits_partial V\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    = \n        0\n    \nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"The integrand becomes singular when evaluated at mathbfx_p since lim limits_rrightarrow 0 frac1r = infty, which we will use to obtain some expressions depending on whether mathbfx_p lays inside, outside, or at the boundary of V.","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"In the case that mathbfx_p cancelin V, the integral equation is automatically satisfied. In the case that mathbfx_p in V, we introduce a hole in V in the form of a sphere of radius epsilon surrounding mathbfx_p, and the integral equation is then automatically satisfied over the domain V backslash V_epsilon:","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    \n        intlimits_partial (V backslash V_epsilon)\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    = \n        0\n    \n    Leftrightarrow \n        intlimits_partial V\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n        -\n        intlimits_partial V_epsilon\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    = \n        0\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Since r is centered at mathbfx_p and the normal hatmathbfn points radially inwards the sphere (since all normals point outside of the volume V), the second integral becomes","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        intlimits_partial V_epsilon\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    = \n        - intlimits_partial V_epsilon\n            left( frac1r fracpartial phipartial r + fracphir^2 right)\n        mathrmdS\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"In the limit that epsilon is infinitesimally small, the integral can be approximated as","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        intlimits_partial V_epsilon\n            left( frac1r fracpartial phipartial r - fracphir^2 right)\n        mathrmdS\n    approx\n        - left(\n            fracpartial phipartial r(mathbfx_p) limlimits_rrightarrow 0 frac1r\n            +\n            phi (mathbfx_p) limlimits_rrightarrow 0 frac1r^2\n        right)\n        limlimits_epsilonrightarrow 0 4 pi epsilon^2\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"where 4 pi epsilon^2 is the surface area of the sphere.","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Assuming phi(mathbfx_p) neq pminfty and fracpartial phipartial r(mathbfx_p) neq pminfty, we have","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        intlimits_partial V_epsilon\n            left( frac1r fracpartial phipartial r - fracphir^2 right)\n        mathrmdS\n     approx\n            - 4 pi fracpartial phipartial r(mathbfx_p) cancellimlimits_rhorightarrow 0 fracrho ^2rho^0\n            -\n            4 pi phi(mathbfx_p) cancellimlimits_rhorightarrow 0 fracrho^2rho^2^1\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Thus,","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        intlimits_partial V_epsilon\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n     =\n        4 pi phi(mathbfx_p)\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Substituting this back into the original equation,","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        intlimits_partial V\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n        -\n        4 pi phi(mathbfx_p)\n    = \n        0\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"and since mathbfx_p is any arbitrary point inside V, we conclude","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    boxed\n        phi(mathbfx)\n    = \n        frac14 pi \n        intlimits_partial V\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    \n     quad forall mathbfx in V\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"If mathbfx_p lays in the boundary of V (i.e., mathbfx_p in partial V), we repeat the same derivation except that only half of the sphere V_epsilon is contained in the integration domain, and we conclude","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    boxed\n        phi(mathbfx)\n    = \n        frac12 pi \n        intlimits_partial V\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    \n     quad forall mathbfx in partial V\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"We merge the two equations to get","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    therefore\n    boxed\n        phi(mathbfx)\n    = \n        fracf_tiny partial V(mathbfx)pi \n        intlimits_partial V\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    \n     quad forall mathbfx in V\n     quad textwhere \n    f_tiny partial V(mathbfx) = begincases\n                                          14   mathbfx in V backslash partial V \n                                          12   mathbfx in partial V\n                                        endcases\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Now, consider the case that V is infinitely large in all directions (with bound partial V_infty) while also having a hole (bound partial V_b, which represents a solid body immersed in the domain), leading to partial V = partial V_b cup partial V_infty. In V, the potential is calculated as","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        phi(mathbfx)\n    = \n        fracf_tiny partial V_b(mathbfx)pi \n        intlimits_partial V_b\n            left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n        +\n        underbrace\n            frac14pi \n            intlimits_partial V_infty\n                left frac1r nabla phi - phinabla left(frac1rright) right cdot hatmathbfn\n            mathrmdS\n        _\n        equiv phi_infty(mathbfx)\n        \nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"When the isolated body is considered as a volume of its own, V_b, we can define an internal potential (i.e., internal to the body) as phi_i. When mathbfx_p is defined as being outside of V_b (but still inside V), we have","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        fracf_tiny partial V_b(mathbfx)pi \n        intlimits_partial V_b\n            left frac1r nabla phi_i - phi_inabla left(frac1rright) right cdot hatmathbfn\n        mathrmdS\n    = \n        0\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"from the Laplace equation.","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"Since the superposition of two solutions to the Laplace equation yields another valid solution, we can add this internal potential to the previous equation to obtain","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n        phi(mathbfx)\n    = \n        fracf_tiny partial V_b(mathbfx)pi \n        intlimits_partial V_b\n            left\n                frac1r nabla left(phi - phi_iright)\n                -\n                left(phi - phi_iright) nabla left(frac1rright)\n            right cdot hatmathbfn\n        mathrmdS\n        +\n        phi_infty(mathbfx)\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"where the negative sign accompanying phi_i comes from requiring hatmathbfn to point outward from V.","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"This equation poses a boundary integral equation (BIE), with the potential phi being fully determined by its value at the boundaries. We can then define","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    \n    boxed-sigma equiv fracpartial phipartial n - fracpartial phi_ipartial n\n     \n    boxed-mu equiv phi - phi_i\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"resulting in the following BIE,","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"beginalign*\n    boxed\n            phi(mathbfx)\n        = \n            -fracf_tiny partial V_b(mathbfx)pi \n            intlimits_partial V_b\n                left\n                    sigma frac1r\n                    -\n                    mu hatmathbfn cdot  nabla left(frac1rright)\n                right  \n            mathrmdS\n            +\n            phi_infty(mathbfx)\n    \n     quad textwhere \n    f_tiny partial V_b(mathbfx) = begincases\n                                          14   mathbfx in V backslash partial V_b \n                                          12   mathbfx in partial V_b\n                                        endcases\nendalign*","category":"page"},{"location":"potentialflow/","page":"Potential Flow","title":"Potential Flow","text":"where mu and sigma are unknowns that we will later determine imposing boundary conditions.","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: FLOWPanel logo)","category":"page"},{"location":"","page":"Home","title":"Home","text":"Three-dimensional panel method for high-Reynolds aerodynamics.","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: ) (Image: )","category":"page"},{"location":"#Features","page":"Home","title":"Features","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Structured mesh generation through space transformation, lofting, or body of revolution.\nSource-panel solver for non-lifting bodies.\nVortex-ring solver for lifting bodies.\nLow-memory allocation.\nAutomatic differentiation for gradient-based optimization: ForwardDiff.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Developed and tested in Julia v1.6.","category":"page"},{"location":"#Installation-Instructions","page":"Home","title":"Installation Instructions","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"TODO: register this package in official Julia registry.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Dependencies","category":"page"},{"location":"","page":"Home","title":"Home","text":"GeometricTools: https://github.com/byuflowlab/GeometricTools.jl","category":"page"},{"location":"#Sponsors","page":"Home","title":"Sponsors","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"(Image: sponsors)","category":"page"},{"location":"#To-Do's","page":"Home","title":"To-Do's","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Finish documentation\nSwept-wing validation and example\nImplement actuator disk for ducted fan\nTest in gradient-based optimization.","category":"page"},{"location":"#Future-Work","page":"Home","title":"Future Work","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Currently, all solvers use a direct explicit-matrix inversion which works well for problems with less than 1000 panels. In order the scale the solver, it is recommended that an indirect matrix inversion method (e.g., GMRES) is implemented in future work along with an implicit matrix evaluation through FMM.","category":"page"},{"location":"#About","page":"Home","title":"About","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"FLOWPanel is an open source project jointly led by the FLOW Lab at Brigham Young University and Whisper Aero. All contributions are welcome.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Main Developer  : Eduardo J. Alvarez\nEmail           : Edo.AlvarezR@gmail.com\nCreated         : August 2021\nLicense         : MIT License","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: sphere) (Image: box) (Image: hub)","category":"page"},{"location":"elements/semiinfdoublet/#Semi-Infinite-Doublet-(Vortex-Horseshoe)","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet (Vortex Horseshoe)","text":"","category":"section"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"(Adapted fron Moran, J. (1984), An introduction to theoretical and computational aerodynamics, Appendix F, p. 442)","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"Assume a constant-strength doublet panel that starts from mathbfp_a and mathbfp_b and extends infinitely in the x direction laying in the xy-plane, as shown below. Since a finite doublet panel is the same than a vortex ring, the semi-infinite doublet panel corresponds to a horseshoe vortex.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"<center>\n  <img src=\"../../assets/images/seminfinitevortex00.png\" alt=\"Pic here\" width=\"400px\">\n</center>","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"NOTE: In order to have the normal of the doublet panel pointing in the +z direction while having the horseshoe vortex going in the direction shown above (coming from infty to a, from a to b, and going out from b to infty), we have to define boxedmu = -Gamma.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"Since the potential of a point doublet corresponds to the negative normal-derivative of the potential of a point source,","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n        phi_textpoint mu\n    =\n        - mu fracpartialpartial zleft( -frac14pi r right)\n    =\n        -fracmu4pifraczr^3\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"the potential of the semi-infinite constant-strength doublet panel is given by","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n        phi_mu (x y z)\n    =\n        -fracmu4pi\n        intlimits_y_a^y_b\n            intlimits_x_a^infty\n                fraczleft (x-x)^2 + (y-y)^2 + z^2 right^32\n            mathrmd x\n        mathrmd y\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"According to Moran (p. 445), this integral becomes","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n        phi_mu (x y z)\n    =\n        -fracmu4pi\n        left left\n            tan^-1left( fracy-yz right)\n            +\n            tan^-1left( frac (y-y)(x-x_a)  z sqrt(x-x_a)^2 + (y-y)^2 + z^2  right)\n        rightrightvert_y_a^y_b\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"NOTE: tan^-1 here is for outputs in the range -fracpi2 to fracpi2.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"In the derivation above we have assumed that the bound vortex section mathbfp_b - mathbfp_a is perpendicular to the semi-infinite direction hatmathbfd_infty. That is, hatmathbfd_inftycdot(mathbfp_b - mathbfp_a)=0. This is in general not true since mathbfp_b - mathbfp_a typically represents the trailing edge while hatmathbfd_infty is the direction of the freestream.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"Given two arbitrary nodes mathbfp_i and mathbfp_j along the trailing edge and an arbitrary freestream direction hatmathbfd_infty as shown below (left), we define mathbfp_a as the closest point to mathbfp_j along the incoming semi-infinite vortex, as shown below (right).","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"<center>\n  <table>\n      <tr>\n          <td>\n              <img src=\"../../assets/images/semiinfinite-doublet02.png\" alt=\"Pic here\" width=\"450px\">\n          </td>\n          <td>\n              <img src=\"../../assets/images/semiinfinite-doublet01.png\" alt=\"Pic here\" width=\"450px\">\n          </td>\n      </tr>\n  </table>\n</center>","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"This point is calculated as","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n        mathbfp_a\n    =\n        mathbfp_i + left (mathbfp_j - mathbfp_i) cdot hatmathbfd_infty right hatmathbfd_infty\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"which defines a bound vortex mathbfp_j - mathbfp_a that is perpendicular to hatmathbfd_infty. This bound vortex is used to define the following local coordinate system","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n    bullet quad \n        hatmathbfx = hatmathbfd_infty\n    \n    bullet quad \n        hatmathbfy = fracmathbfp_b - mathbfp_aVert mathbfp_b - mathbfp_a Vert\n    \n    bullet quad \n        hatmathbfz = hatmathbfx times hatmathbfy\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"where mathbfp_b = mathbfp_j.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"The potential induced by this elements is then computed as the superposition of potential of the doublet panel defined by the vertices mathbfp_a, mathbfp_i, and mathbfp_j and the potential induced by the semi-infinite panel starting between mathbfp_a and mathbfp_j.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"NOTE: The doublet panel is purposely defined in the order mathbfp_a, mathbfp_i, and mathbfp_j as to define its normal through the right-hand rule as hatmathbfn=-hatmathbfz and have the associated vortex ring matching the figure above.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"The induced velocity is calculated as the velocity induced by a bound vortex between mathbfp_i and mathbfp_j, plus the velocity induced by two semi-infinite vortices coming in and out of mathbfp_i and mathbfp_j, respectively.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"The velocity of the bound vortex is calculated as","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n        mathbfu_mathrmij left( mathbfx right)\n    =\n        fracGamma4pi\n            fracmathbfr_i times mathbfr_j Vert mathbfr_i times mathbfr_j Vert^2\n            mathbfr_ij cdot left(\n                fracmathbfr_ir_i - fracmathbfr_jr_j\n            right)\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"where Gamma = mu, mathbfr_ij = mathbfp_j-mathbfp_i, mathbfr_i = mathbfx - mathbfp_i, mathbfr_j = mathbfx - mathbfp_j. The velocity of a semi-infinite vortex is calculated as follows.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"Assume a semi-infinite vortex starting at mathbfp_0 and extending in the direction hatmathbfd. Given a position mathbfx that is aligned with the starting point mathbfp_0 (by aligned we mean that both mathbfx and mathbfp_0 lay in a plane with normal hatmathbfd), the velocity that the semi-infinite vortex induces at mathbfx is calculated as","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n    mathbfu_infty2left( mathbfx right) = fracGamma4 pi h hatmathbfn\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"where Gamma is the vortex strength, h = Vert mathbfx - mathbfp_0 Vert the normal distance to the vortex line, hatmathbfn equiv hatmathbfdtimeshatmathbfh is the vector normal to the plane defined by hatmathbfd and hatmathbfh, and hatmathbfh equiv fracmathbfx-mathbfp_0Vert mathbfx-mathbfp_0 Vert. Note that in this definition, a positive Gamma denotes the vortex going out from mathbfp_0 to infty.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"If mathbfx is not aligned with (\"in the same plane than\") the start of the semi-infinite vortex mathbfp, the semi-infinite vortex is arbitrarely split up such that mathbfp_0 is found by projecting mathbfx into the line vortex as","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n    mathbfp_0 =  mathbfp + left left( mathbfx - mathbfp right) cdot hatmathbfd right  hatmathbfd\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"where mathbfp was the original starting point. Thus, the semi-infinite vortex is split up into two section: one bound vortex between mathbfp_0 and mathbfp, and a semi-infinite section starting from mathbfp_0 as shown below.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"<center>\n  <img src=\"../../assets/images/semiinfinite-vortex01.png\" alt=\"Pic here\" style=\"width: 350px;\"/>\n</center>","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"Thus, the velocity is calculated as","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"beginalign*\n    mathbfuleft( mathbfx right)  =\n        mathbfu_mathbfp_0mathbfpleft( mathbfx right) +\n            mathbfu_infty2left( mathbfx right)\nendalign*","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"OBSERVATIONS","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"The velocity induced by both bound and semi-infinite vortices are singular as mathbfx becomes collinear with the vortex. The singularity is avoided by adding a small offset epsilon to h in the semi-infinite vortex and to each denominator in the calculation of the bound vortex.\nSince the velocity induced by a vortex on itself must be zero, we also define a small threshold close to both the bound and semi-infinite vortices at which the velocity induced at mathbfx becomes zero.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"NOTE: The small offset epsilon corresponds to body.kerneloffset, while the cutoff threshold for self-induced velocity corresponds to body.kernelcutoff.","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"The potential and velocity field of a semi-infinte doublet panel (or vortex horseshoe) of unitary strength (mu=1 or Gamma=1) is shown below","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"<center>\n  <table>\n      <tr>\n          <th>\n              <img src=\"../../assets/images/panel-semiinfinite-doublet-phi01.png\" alt=\"Pic here\" width=\"450px\">\n          </th>\n          <th>\n              <img src=\"../../assets/images/panel-semiinfinite-doublet-u01.png\" alt=\"Pic here\" width=\"450px\">\n          </th>\n      </tr>\n  </table>\n</center>","category":"page"},{"location":"elements/semiinfdoublet/","page":"Semi-Infinite Doublet","title":"Semi-Infinite Doublet","text":"<center>\n  <br>$\\nabla \\phi$ = $\\mathbf{u}$ verification\n  <img src=\"../../assets/images/panel-semiinfinitedoublet-divphivsu00.png\" alt=\"Pic here\" style=\"width: 900px;\"/>\n</center>","category":"page"},{"location":"elements/constantdoublet/#Constant-Strength-Doublet-(Vortex-Ring)","page":"Constant Doublet","title":"Constant-Strength Doublet (Vortex Ring)","text":"","category":"section"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"Recall that the potential field induced by doublets is given by","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"beginalign*\n        phi_mu(mathbfx)\n    = \n        fracf_tiny partial V_b(mathbfx)pi \n        intlimits_partial V_b\n            mu hatmathbfn cdot  nabla left(frac1rright)\n        mathrmdS\nendalign*","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"while the component induced by sources is","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"beginalign*\n        phi_sigma(mathbfx)\n    = \n        -fracf_tiny partial V_b(mathbfx)pi \n        intlimits_partial V_b\n            sigma frac1r\n        mathrmdS\nendalign*","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"Assuming constant-strength panels, each strength comes out of the integrals and we rewrite the above equations as","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"beginalign*\n        phi_mu(mathbfx)\n    = \n        mu G_mu (mathbfx)\n    quad  quad\n        G_mu (mathbfx)\n    equiv\n        fracf_tiny partial V_b(mathbfx)pi \n        intlimits_partial V_b\n             hatmathbfn cdot  nabla left(frac1rright)\n        mathrmdS\nendalign*","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"and","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"beginalign*\n        phi_sigma(mathbfx)\n    = \n        sigma G_sigma (mathbfx)\n    quad  quad\n        G_sigma (mathbfx)\n    equiv\n        -fracf_tiny partial V_b(mathbfx)pi \n        intlimits_partial V_b\n            frac1r\n        mathrmdS\nendalign*","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"Notice that computation of the potential field induced by the doublet element is similar to the computation of the normal velocity induced by the source element:","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"beginalign*\n        hatmathbfn cdot nablaphi_sigma\n    =\n        -sigma fracf_tiny partial V_bpi \n        intlimits_partial V_b\n            hatmathbfn cdot nabla left(\n                frac1r\n            right)\n        mathrmdS\n    =\n        -sigma G_mu\nendalign*","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"Hence, we can simply reuse the computation of the source-induced velocity to calculate the potential of the doublet element as","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"beginalign*\n        phi_mu\n    =\n        -mu frachatmathbfn cdot mathbfu_sigmasigma\nendalign*","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"where hatmathbfn cdot mathbfu_sigma = U_z with U_z as defined in the previous section.","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"In order to calculate the velocity field induced by the doublet, instead of calculating nablaphi_mu we take advantage of the fact that the velocity induced by a constant-strength doublet panel is the same than the velocity induced by a vortex ring (see Katz and Plotkin Sec. 10.4.3),","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"beginalign*\n        mathbfu_mathrmring left( mathbfx right)\n    =\n        fracGamma4pi\n        sumlimits_ijin A\n            fracmathbfr_i times mathbfr_j Vert mathbfr_i times mathbfr_j Vert^2\n            mathbfr_ij cdot left(\n                fracmathbfr_ir_i - fracmathbfr_jr_j\n            right)\nendalign*","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"when Gamma = mu, and where mathbfr_ij = mathbfp_j-mathbfp_i, mathbfr_i = mathbfx - mathbfp_i, mathbfr_j = mathbfx - mathbfp_j, A = (12)dots(n-1 n)(n 1)  and n the number of vertices that make the panel, each with position mathbfp_k.","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"NOTE: For the same reasons explained in the previous section, phi_mu poses a discontinuity at the surface since limlimits_zrightarrow pm 0 phi_mu (0 0 z) = -fracmusigma limlimits_zrightarrow pm 0 U_z (0 0 z) = mp fracmu2. In FLOWPanel, we let phi_mu (0 0 0) = 0, but we also have shifted all control points slightly in the direction of hatmathbfn. Remembering that hatmathbfn_mathrmHS = -hatmathbfn, the control points are thus shifted in the -z direction, effectively obtaining boxedphi_mu (mathbfx_mathrmcp) approx fracmu2.","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"OBSERVATIONS","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"The velocity induced by a segment of the vortex ring shown above becomes singular when the denominator terms r_i, r_j, or Vert mathbfr_i times mathbfr_j Vert  approach 0. For this reason, FLOWPanel adds a small epsilon to each of these terms, while also defining a cutoff threshold for Vert mathbfr_i times mathbfr_j Vert under which the velocity induced becomes 0 (thus, self-induced velocity is forced to be zero).","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"NOTE: The small offset added to the denominator terms r_i, r_j, and Vert mathbfr_i times mathbfr_j Vert corresponds to body.kerneloffset, while the cutoff threshold for self-induced velocity corresponds to body.kernelcutoff.","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"The potential and velocity field of a doublet panel of unitary strength (mu=1) is shown below","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"<center>\n  <table>\n      <tr>\n          <th>\n              <img src=\"../../assets/images/panel-doublet-phi02.png\" alt=\"Pic here\" width=\"450px\">\n          </th>\n          <th>\n              <img src=\"../../assets/images/panel-doublet-u01.png\" alt=\"Pic here\" width=\"300px\">\n          </th>\n      </tr>\n  </table>\n</center>","category":"page"},{"location":"elements/constantdoublet/","page":"Constant Doublet","title":"Constant Doublet","text":"<center>\n  <br>$\\nabla \\phi$ = $\\mathbf{u}$ verification\n  <img src=\"../../assets/images/panel-doublet-divphivsu00.png\" alt=\"Pic here\" style=\"width: 900px;\"/>\n</center>","category":"page"}]
}
